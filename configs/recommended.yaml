# configs/recommended.yaml
# This file defines all configuration settings for training and evaluating the ViroporinAFMini model.
# It includes model size, data paths, optimizer and training parameters, loss weights, and priors.
# Used by train.py and eval.py to load consistent experiment settings (recommended model setup).

seed: 123
device: cpu

model:
  d_single: 256
  d_pair: 128
  heads:
    distogram_bins: 64
  evoformer:
    n_blocks: 12
    n_attn_heads: 4
  ipa:
    n_blocks: 8
    n_points: 4
    dropout: 0.1

data:
  train_index: data/train.jsonl
  val_index: data/test.jsonl
  batch_size: 1
  shuffle: true
  num_workers: 0
  max_len: 192

train:
  steps: 20000
  lr: 1.0e-3
  weight_decay: 0.01
  warmup_steps: 500
  grad_clip: 1.0
  amp_enabled: false     
  amp_on_step: 1000
  detect_anomaly: false    
  eval_every: 1000
  log_every: 50
  priors_warmup_steps: 8000
  ckpt_dir: checkpoints
  log_dir: checkpoints/logs
  ema_alpha: 0.1

loss_weights:
  distogram: 1.0
  torsion: 0.01
  fape: 0.5
  priors: 0.00001
  membrane: 0.00005
  interface: 0.00005
  pore: 0.00002

priors:
  use_cn: true
  n_copies: 4
  ring_radius: 7.0
  tm_span: [8, 28]
  pore_target_A: 4.0
  cap_A: 6.0
